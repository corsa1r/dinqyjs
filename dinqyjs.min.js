var Dinqyjs=function(){var t=null,n=void 0,r=!0,i=!1,u="apply",e=Array,o=e.prototype,s=Math.ceil,f="clone",c="concat",h="length",a="indexOf",_="isArray",v="lastIndexOf",l=parseInt,m="push",d=Math.random,g="reverse",p="slice",y="sort",A="splice",x=function(t){return function(n){return t===n}},R=function(t,n){var r=t/2;return l(n>0?s(r):r)},q={ARRAY_PREALLOCATION:64e3},O=function(t,n){return t>n?1:n>t?-1:0},w=function(t,n,r){var i,u,e,o,s=b(r),f=0,c=[];for(t=z(G(t).distinct(r)),n=z(n),o=n[h];f<t[h];){for(u=t[f++],i=0;o>i&&(e=n[i],!(s&&r(u,e)||!s&&u===e));)i++;i===o&&c[m](u)}return G(c)},j=function(t,n){var r,i;for(i in t)r=t[i],b(r)||n(r,i)},I=function(t){throw new Error(t)},k="Array contains no matching elements",L="Array does not contain exactly one matching element",C=function(t,n,r,i,u){var e,o=t[h];if(r=r||1,!b(n))return o>0?r>0?0:o-1:-1;for(E(i)&&(i=r>0?0:o-1),(E(u)||u>o)&&(u=o);u>0;){if(e=t[i],n(e))return i;i+=r,u--}return-1},D=function(n,r,i){var u,e,o,s,f,c=b(i);for(o=0,s=r[h],f=s>0?r[0]:t;s>o;o++)u=r[o],e=c?i(u):u,(n?f>=e:e>=f)&&(f=u);return f},b=function(t){return"function"==typeof t},E=function(t){return t===n},M=function(t,n){return{inner:t,outer:n}},T=function(t,n,r,i){for(var u=0;u<t[h]&&r(t[u],u)!=i;u++)n(t[u],u)},B=function(t,n){return.25*(t*n+t)},J=function(t,n){return t*n},N=function(t,n,r,i){for(var u,e,o=0,s=[],f=b(r),c=b(i);o<t[h];)u=t[o++],e=n(u),f&&(u=r(u)),(s[e]=e in s?s[e]:[])[m](u);return c&&F(s,i),s},P=function(t,r,i){var u,e,o,f,h,a,_,v,m=b(i),d=t.count();return 1>d?n:(u=z(t)[c](),W(u,i),e=B(r,d),o=l(e),f=l(s(e)),_=u[o-1],v=u[f-1],h=m?i(_):_,a=m?i(v):v,f>o?h:(h+a)/2)},S=function(){return d()-.5},W=function(t,n){return E(n)||n[h]<1?void t[y](O):(n=b(n)?[n]:o.slice.call(n),void t[y](Y(n)))},Y=function(t){return function(n,r){for(var i,u,e,o,s=0,f=0,c=t[h];c>s&&0===f;)o=t[s++],b(o)&&(e=0,c>s&&"string"==typeof t[s]&&0===t[s][a]("des")&&(e=1),i=o(n),u=o(r),u>i?f=e?1:-1:i>u&&(f=e?-1:1));return f}},U=function(n,r,i){for(var u,e,o=t,s=n[h]-1,f=b(i);s>=0;)u=n[s--],e=f?i(u):u,o=o===t?e:r(o,e);return o},z=function(t){return t._||t},F=function(t,n){var r,i;for(r in t)i=t[r],t[r]=n(i,r);return t},G=function(t){return t._?t:new Dinqyjs.Collection(t)};return o[a]||(o[a]=function(t,n){return C(this,x(t),1,n)}),o[v]||(o[v]=function(t,n){return C(this,x(t),-1,n)}),o.map||(o.map=function(t){var r=this[h],i=new e(r>q.ARRAY_PREALLOCATION?0:r),u=0;if(!b(t))return n;for(;r>u;)i[u]=t(this[u++]);return i}),e[_]||(e[_]=function(t){return t.constructor===e}),{Collection:function(){function n(t){this._=t||[]}return n.associative=function(t){for(var n in t)if(!b(t[n]))return 0===+t[h];return i},n.configure=function(t,n){return q[t]=arguments[h]<2?q[t]:n},n.transpose=function(){var t,n,r,i,u,e=arguments,o=[];for(i=0,u=arguments[h];u>i;i++){for(n=z(e[i]),r=n[h];o[h]<r;)o[m]([]);for(t=0;r>t;)o[t][m](n[t++])}return G(o)},n.prototype={all:function(t){for(var n=r,u=0;u<this._[h];)n&=t(this._[u++]);return n?r:i},any:function(t){return C(this._,t)>=0},ascending:function(){return W(this._,arguments),this},atRandom:function(){return this._[Math.floor(d()*this._[h])]},average:function(t){var n=this._[h];return n?this.sum(t)/n:0},clear:function(){this._[A](0,this._[h])},clearWhere:function(t){for(var n=this._[h]-1;n>=0;)t(this._[n])&&this._[A](n,1),n--;return this},clone:function(){return G(this._[c]())},concat:function(){return G(o[c][u](this._,arguments))},contains:function(t){return this._[a](t)>-1},count:function(t){var n=0,r=this._[h],i=0;if(E(t))return r;for(;r>n;)this._[n++]===t&&i++;return i},descending:function(){return W(this._,arguments),this[g]()},difference:function(t,n){var r=this._;return t=z(t),w(r,t,n).union(w(t,r,n))},distinct:function(t){var n,r,i,u,e,o=b(t),s=[];for(i=0,e=this._[h];e>i;i++)if(n=this._[i],-1==s[a](n))for(u=0;e>u;u++)if(r=this._[u],o&&t(n,r)||!o&&n===r){s[m](n);break}return G(s)},doUntil:function(t,n){T(this._,t,n,1)},doWhile:function(t,n){T(this._,t,n,0)},each:function(t){var r=0,i=this._[h];if(i!==+i||n.associative(this._))j(this._,t);else for(;i>r;)t(this._[r],r++)},element:function(t,n){return this._[t]=arguments[h]>1?n:this._[t]},equalTo:function(t,n){t=z(t);var u,e,o=this._[h],s=o-1,f=b(n);if(o!=t[h])return i;for(;s>=0;)if(u=this._[s],e=t[s--],f?!n(u,e):u!==e)return i;return r},findIndex:function(t,n,r){return b(t)?C(this._,t,1,n,r):-1},findLastIndex:function(t,n,r){return b(t)?C(this._,t,-1,n,r):-1},first:function(t){var n=C(this._,t);return n>=0?this._[n]:void I(k)},flatten:function(){for(var t,r=0,i=G([]);r<this._[h];)t=this._[r++],n.prototype[m][u](i,e[_](t)?t:[t]);return i},groupBy:function(t,n,r){var i,u=N(this._,t,n,r);this._[A](0,this._[h]);for(i in u)this._[i]=u[i];return this},indexOf:function(){return o[a][u](this._,arguments)},innerJoin:function(t,n,r){if(t=z(t),!e[_](t))return this[f]();b(r)||(r=M);for(var i,u,o,s=[],c=0;c<this._[h];)for(i=this._[c++],o=0;o<t[h];)u=t[o++],n(i,u)&&s[m](r(i,u));return G(s)},insert:function(t,n){this._[A](t,0,n)},insertRange:function(t,n){o[A][u](this._,[t,0][c](arguments[h]<3?z(n):o.slice.call(arguments,1)))},interquartileRange:function(t){return this.upperquartile(t)-this.lowerquartile(t)},intersect:function(t,n){for(var r,i,u,e=b(n),o=[],s=0,f=z(this.distinct(n)),c=z(G(t).distinct(n));s<f[h];)for(r=f[s++],u=0;u<c[h];)if(i=c[u++],e&&n(r,i)||!e&&r===i){o[m](r);break}return G(o)},join:function(){return o.join[u](this._,arguments)},keys:function(){var t,n=[];for(t in this._)b(this._[t])||n[m](t);return n},last:function(t){var n=C(this._,t,-1);return n>=0?this._[n]:void I(k)},lastIndexOf:function(){return o[v][u](this._,arguments)},lowerquartile:function(t){return P(this,1,t)},map:function(t){if(b(t)){var n=[];return this.each(function(r){n[m](t(r))}),G(n)}return void 0},max:function(t){return D(0,this._,t)},median:function(){var t,n,r;return r=this[f](),W(z(r),arguments),t=r.middle(),n=r.middle(1),n>t?(t+n)/2:t},middle:function(t){return this._[R(this._[h]-1,t)]},min:function(t){return D(1,this._,t)},mode:function(t){var n,r,i,u,e=0,o=[],s=0;for(i=z((b(t)?this.map(t):this[f]()).ascending());s<i[h];)u=i[s++],r=u===n?r+1:0,r===e?o[m](u):r>e&&(o=[u],e++),n=u;return o},multiply:function(t){return this._[h]>0?U(this._,J,t):0},orderBy:function(){W(this._,arguments)},outerJoin:function(n,r,i){var u,o,s,c,a=[],v=0,l=b(r);if(n=z(n),!e[_](n))return this[f]();for(b(i)||(i=M);v<this._[h];){for(u=this._[v++],s=1,c=0;c<n[h];)o=n[c++],(l&&r(u,o)||!l&&u===o)&&(s=0,a[m](i(u,o)));s&&a[m](i(u,t))}return G(a)},pack:function(){for(var n,r=this._[h]-1;r>=0;)n=this._[r],(E(n)||n===t)&&this._[A](r,1),r--;return this},partition:function(t,n,r){return G(N(this._,t,n,r))},pop:function(){return o.pop[u](this._,arguments)},push:function(){return o[m][u](this._,arguments)},pushRepeatedly:function(t,n){for(var r=0;n>r;r++)this[m](t);return this},range:function(t,n){return G(this._[p](t,n))},raw:function(){return this._},removeAt:function(t){this._[A](t,1)},removeRange:function(t,n){this._[A](t,n)},reverse:function(){return G(o[g][u](this._,arguments))},shift:function(){return o.shift[u](this._,arguments)},shuffle:function(){return this._[y](S),this},single:function(t){var n=z(this);return b(t)&&(n=z(G(this).where(t))),1!=n[h]&&I(L),n[0]},skip:function(t){return G(this._[p](t))},sort:function(){return o.sort[u](this._,arguments),this},sum:function(t){return this._[h]>0?U(this._,function(t,n){return t+n},t):0},take:function(t){return G(this._[p](0,t))},toString:function(){return o.toString[u](this._)},union:function(t){var n=this[f]();return o[m][u](z(n),z(t)),n},unshift:function(){return o.unshift[u](this._,arguments)},upperquartile:function(t){return P(this,3,t)},valueOf:function(){return o.valueOf[u](this._,arguments)},where:function(t){for(var n,r=[],i=0;i<this._[h];)n=this._[i++],t(n)&&r[m](n);return G(r)}},n}()}}();"object"==typeof exports&&exports&&(exports.Dinqyjs=Dinqyjs);
