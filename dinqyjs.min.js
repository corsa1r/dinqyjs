var Dinqyjs=function(){var t=null,n=void 0,r=!0,i=!1,u=Array,e=u.prototype,o="length",s="apply",f="push",c="reverse",a="slice",h="sort",_="splice",l="indexOf",v="lastIndexOf",m=function(t){return function(n){return t===n}},d=function(t,n){var r=t/2;return parseInt(n>0?Math.ceil(r):r)},p={ARRAY_PREALLOCATION:64e3},g=function(t,n){return t>n?1:n>t?-1:0},y=function(t,n,r){var i,u,e,s,c=I(r),a=0,h=[];for(t=N(S(t).distinct(r)),n=N(n),s=n[o];a<t[o];){for(u=t[a++],i=0;s>i&&(e=n[i],!(c&&r(u,e)||!c&&u===e));)i++;i===s&&h[f](u)}return S(h)},A=function(t,n){var r,i;for(i in t)r=t[i],I(r)||n(r,i)},x=function(t){throw new Error(t)},R="Array contains no matching elements",q="Array does not contain exactly one matching element",O=function(t,n,r,i,u){var e,s=t[o];if(r=r||1,!I(n))return s>0?r>0?0:s-1:-1;for(j(i)&&(i=r>0?0:s-1),(j(u)||u>s)&&(u=s);u>0;){if(e=t[i],n(e))return i;i+=r,u--}return-1},w=function(n,r,i){var u,e,s,f,c,a=I(i);for(s=0,f=r[o],c=f>0?r[0]:t;f>s;s++)u=r[s],e=a?i(u):u,(n?c>=e:e>=c)&&(c=u);return c},I=function(t){return"function"==typeof t},j=function(t){return t===n},k=function(t,n){return{inner:t,outer:n}},L=function(t,n,r,i){for(var u=0;u<t[o]&&r(t[u],u)!=i;u++)n(t[u],u)},M=function(t,n){return.25*(t*n+t)},C=function(t,n){return t*n},D=function(t,n,r,i){for(var u,e,s=0,c=[],a=I(r),h=I(i);s<t[o];)u=t[s++],e=n(u),a&&(u=r(u)),(c[e]=e in c?c[e]:[])[f](u);return h&&P(c,i),c},b=function(t,r,i){var u,e,o,s,f,c,a,h,_=I(i),l=t.count();return 1>l?n:(u=N(t).concat(),T(u,i),e=M(r,l),o=parseInt(e),s=parseInt(Math.ceil(e)),a=u[o-1],h=u[s-1],f=_?i(a):a,c=_?i(h):h,s>o?f:(f+c)/2)},E=function(){return Math.random()-.5},T=function(t,n){return j(n)||n[o]<1?void t[h](g):(n=I(n)?[n]:e.slice.call(n),void t[h](B(n)))},B=function(t){return function(n,r){for(var i,u,e,s,f=0,c=0,a=t[o];a>f&&0===c;)s=t[f++],I(s)&&(e=0,a>f&&"string"==typeof t[f]&&0===t[f][l]("des")&&(e=1),i=s(n),u=s(r),u>i?c=e?1:-1:i>u&&(c=e?-1:1));return c}},J=function(n,r,i){for(var u,e,s=t,f=n[o]-1,c=I(i);f>=0;)u=n[f--],e=c?i(u):u,s=s===t?e:r(s,e);return s},N=function(t){return t._||t},P=function(t,n){var r,i;for(r in t)i=t[r],t[r]=n(i,r);return t},S=function(t){return t._?t:new Dinqyjs.Collection(t)};return e[l]||(e[l]=function(t,n){return O(this,m(t),1,n)}),e[v]||(e[v]=function(t,n){return O(this,m(t),-1,n)}),e.map||(e.map=function(t){var r=this[o],i=new u(r>p.ARRAY_PREALLOCATION?0:r),e=0;if(!I(t))return n;for(;r>e;)i[e]=t(this[e++]);return i}),u.isArray||(u.isArray=function(t){return t.constructor===u}),{Collection:function(){function n(t){this._=t||[]}return n.associative=function(t){for(var n in t)if(!I(t[n]))return 0===+t[o];return i},n.configure=function(t,n){return p[t]=arguments[o]<2?p[t]:n},n.transpose=function(){var t,n,r,i,u,e=arguments,s=[];for(i=0,u=arguments[o];u>i;i++){for(n=N(e[i]),r=n[o];s[o]<r;)s[f]([]);for(t=0;r>t;)s[t][f](n[t++])}return S(s)},n.prototype={all:function(t){for(var n=r,u=0;u<this._[o];)n&=t(this._[u++]);return n?r:i},any:function(t){return O(this._,t)>=0},ascending:function(){return T(this._,arguments),this},atRandom:function(){return this._[Math.floor(Math.random()*this._[o])]},average:function(t){var n=this._[o];return n?this.sum(t)/n:0},clear:function(){this._[_](0,this._[o])},clearWhere:function(t){for(var n=this._[o]-1;n>=0;)t(this._[n])&&this._[_](n,1),n--;return this},clone:function(){return S(this._.concat())},concat:function(){return S(e.concat[s](this._,arguments))},contains:function(t){return this._[l](t)>-1},count:function(t){var n=0,r=this._[o],i=0;if(j(t))return r;for(;r>n;)this._[n++]===t&&i++;return i},descending:function(){return T(this._,arguments),this[c]()},difference:function(t,n){var r=this._;return t=N(t),y(r,t,n).union(y(t,r,n))},distinct:function(t){var n,r,i,u,e,s=I(t),c=[];for(i=0,e=this._[o];e>i;i++)if(n=this._[i],-1==c[l](n))for(u=0;e>u;u++)if(r=this._[u],s&&t(n,r)||!s&&n===r){c[f](n);break}return S(c)},doUntil:function(t,n){L(this._,t,n,1)},doWhile:function(t,n){L(this._,t,n,0)},each:function(t){var r=0,i=this._[o];if(i!==+i||n.associative(this._))A(this._,t);else for(;i>r;)t(this._[r],r++)},element:function(t,n){return this._[t]=arguments[o]>1?n:this._[t]},equalTo:function(t,n){t=N(t);var u,e,s=this._[o],f=s-1,c=I(n);if(s!=t[o])return i;for(;f>=0;)if(u=this._[f],e=t[f--],c?!n(u,e):u!==e)return i;return r},findIndex:function(t,n,r){return I(t)?O(this._,t,1,n,r):-1},findLastIndex:function(t,n,r){return I(t)?O(this._,t,-1,n,r):-1},first:function(t){var n=O(this._,t);return n>=0?this._[n]:void x(R)},flatten:function(){for(var t,r=0,i=S([]);r<this._[o];)t=this._[r++],n.prototype[f][s](i,u.isArray(t)?t:[t]);return i},groupBy:function(t,n,r){var i,u=D(this._,t,n,r);this._[_](0,this._[o]);for(i in u)this._[i]=u[i];return this},indexOf:function(){return e[l][s](this._,arguments)},innerJoin:function(t,n,r){if(t=N(t),!u.isArray(t))return this.clone();I(r)||(r=k);for(var i,e,s,c=[],a=0;a<this._[o];)for(i=this._[a++],s=0;s<t[o];)e=t[s++],n(i,e)&&c[f](r(i,e));return S(c)},insert:function(t,n){this._[_](t,0,n)},insertRange:function(t,n){e[_][s](this._,[t,0].concat(arguments[o]<3?N(n):e.slice.call(arguments,1)))},interquartileRange:function(t){return this.upperquartile(t)-this.lowerquartile(t)},intersect:function(t,n){for(var r,i,u,e=I(n),s=[],c=0,a=N(this.distinct(n)),h=N(S(t).distinct(n));c<a[o];)for(r=a[c++],u=0;u<h[o];)if(i=h[u++],e&&n(r,i)||!e&&r===i){s[f](r);break}return S(s)},join:function(){return e.join[s](this._,arguments)},keys:function(){var t,n=[];for(t in this._)I(this._[t])||n[f](t);return n},last:function(t){var n=O(this._,t,-1);return n>=0?this._[n]:void x(R)},lastIndexOf:function(){return e[v][s](this._,arguments)},lowerquartile:function(t){return b(this,1,t)},map:function(t){if(I(t)){var n=[];return this.each(function(r){n[f](t(r))}),S(n)}return void 0},max:function(t){return w(0,this._,t)},median:function(){var t,n,r;return r=this.clone(),T(N(r),arguments),t=r.middle(),n=r.middle(1),n>t?(t+n)/2:t},middle:function(t){return this._[d(this._[o]-1,t)]},min:function(t){return w(1,this._,t)},mode:function(t){var n,r,i,u,e=0,s=[],c=0;for(i=N((I(t)?this.map(t):this.clone()).ascending());c<i[o];)u=i[c++],r=u===n?r+1:0,r===e?s[f](u):r>e&&(s=[u],e++),n=u;return s},multiply:function(t){return this._[o]>0?J(this._,C,t):0},orderBy:function(){T(this._,arguments)},outerJoin:function(n,r,i){var e,s,c,a,h=[],_=0,l=I(r);if(n=N(n),!u.isArray(n))return this.clone();for(I(i)||(i=k);_<this._[o];){for(e=this._[_++],c=1,a=0;a<n[o];)s=n[a++],(l&&r(e,s)||!l&&e===s)&&(c=0,h[f](i(e,s)));c&&h[f](i(e,t))}return S(h)},pack:function(){for(var n,r=this._[o]-1;r>=0;)n=this._[r],(j(n)||n===t)&&this._[_](r,1),r--;return this},partition:function(t,n,r){return S(D(this._,t,n,r))},pop:function(){return e.pop[s](this._,arguments)},push:function(){return e[f][s](this._,arguments)},pushRepeatedly:function(t,n){for(var r=0;n>r;r++)this[f](t);return this},range:function(t,n){return S(this._[a](t,n))},raw:function(){return this._},removeAt:function(t){this._[_](t,1)},removeRange:function(t,n){this._[_](t,n)},reverse:function(){return S(e[c][s](this._,arguments))},shift:function(){return e.shift[s](this._,arguments)},shuffle:function(){return this._[h](E),this},single:function(t){var n=N(this);return I(t)&&(n=N(S(this).where(t))),1!=n[o]&&x(q),n[0]},skip:function(t){return S(this._[a](t))},sort:function(){return e.sort[s](this._,arguments),this},sum:function(t){return this._[o]>0?J(this._,function(t,n){return t+n},t):0},take:function(t){return S(this._[a](0,t))},toString:function(){return e.toString[s](this._)},union:function(t){var n=this.clone();return e[f][s](N(n),N(t)),n},unshift:function(){return e.unshift[s](this._,arguments)},upperquartile:function(t){return b(this,3,t)},valueOf:function(){return e.valueOf[s](this._,arguments)},where:function(t){for(var n,r=[],i=0;i<this._[o];)n=this._[i++],t(n)&&r[f](n);return S(r)}},n}()}}();"object"==typeof exports&&exports&&(exports.Dinqyjs=Dinqyjs);
