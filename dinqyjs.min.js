var Dinqyjs=function(){var n=null,t=void 0,r=!0,i=!1,u="apply",e=Array,o=e.prototype,s=Math.ceil,f="clone",c="concat",a="length",h="indexOf",_="isArray",v="lastIndexOf",l=parseInt,m="pop",d="push",g=Math.random,p="reverse",y="slice",A="sort",x="splice",R=function(n){return function(t){return n===t}},q=function(n,t){var r=n/2;return l(t>0?s(r):r)},O=function(n,t){o[n]||(o[n]=function(n,r){return b(this,R(n),t,r)})},w={ARRAY_PREALLOCATION:64e3},j=function(n,t){return n>t?1:t>n?-1:0},I=function(n,t,r){var i,u,e,o,s=M(r),f=0,c=[];for(n=G(K(n).distinct(r)),t=G(t),o=t[a];f<n[a];){for(u=n[f++],i=0;o>i&&(e=t[i],!(s&&r(u,e)||!s&&u===e));)i++;i===o&&c[d](u)}return K(c)},k=function(n,t){var r,i;for(i in n)r=n[i],M(r)||t(r,i)},L=function(n){throw new Error(n)},C="Array contains no matching elements",D="Array does not contain exactly one matching element",b=function(n,t,r,i,u){var e,o=n[a];if(r=r||1,!M(t))return o>0?r>0?0:o-1:-1;for(T(i)&&(i=r>0?0:o-1),(T(u)||u>o)&&(u=o);u>0;){if(e=n[i],t(e))return i;i+=r,u--}return-1},E=function(t,r,i){var u,e,o,s,f,c=M(i);for(o=0,s=r[a],f=s>0?r[0]:n;s>o;o++)u=r[o],e=c?i(u):u,(t?f>=e:e>=f)&&(f=u);return f},M=function(n){return"function"==typeof n},T=function(n){return n===t},B=function(n,t){return{inner:n,outer:t}},J=function(n,t,r,i){for(var u=0;u<n[a]&&r(n[u],u)!=i;u++)t(n[u],u)},N=function(n,t){return.25*(n*t+n)},P=function(n,t){return n*t},S=function(n,t,r,i){for(var u,e,o=0,s=[],f=M(r),c=M(i);o<n[a];)u=n[o++],e=t(u),f&&(u=r(u)),(s[e]=e in s?s[e]:[])[d](u);return c&&H(s,i),s},W=function(n,r,i){var u,e,o,f,a,h,_,v,m=M(i),d=n.count();return 1>d?t:(u=G(n)[c](),U(u,i),e=N(r,d),o=l(e),f=l(s(e)),_=u[o-1],v=u[f-1],a=m?i(_):_,h=m?i(v):v,f>o?a:(a+h)/2)},Y=function(){return g()-.5},U=function(n,t){return T(t)||t[a]<1?void n[A](j):(t=M(t)?[t]:o.slice.call(t),void n[A](z(t)))},z=function(n){return function(t,r){for(var i,u,e,o,s=0,f=0,c=n[a];c>s&&0===f;)o=n[s++],M(o)&&(e=0,c>s&&"string"==typeof n[s]&&0===n[s][h]("des")&&(e=1),i=o(t),u=o(r),u>i?f=e?1:-1:i>u&&(f=e?-1:1));return f}},F=function(t,r,i){for(var u,e,o=n,s=t[a]-1,f=M(i);s>=0;)u=t[s--],e=f?i(u):u,o=o===n?e:r(o,e);return o},G=function(n){return n._||n},H=function(n,t){var r,i;for(r in n)i=n[r],n[r]=t(i,r);return n},K=function(n){return n._?n:new Dinqyjs.Collection(n)};return O(h,1),O(v,-1),o.map||(o.map=function(n){var r=this[a],i=new e(r>w.ARRAY_PREALLOCATION?0:r),u=0;if(!M(n))return t;for(;r>u;)i[u]=n(this[u++]);return i}),e[_]||(e[_]=function(n){return n.constructor===e}),{Collection:function(){function t(n){this._=n||[]}return t.associative=function(n){for(var t in n)if(!M(n[t]))return 0===+n[a];return i},t.configure=function(n,t){return w[n]=arguments[a]<2?w[n]:t},t.transpose=function(){var n,t,r,i,u,e=arguments,o=[];for(i=0,u=arguments[a];u>i;i++){for(t=G(e[i]),r=t[a];o[a]<r;)o[d]([]);for(n=0;r>n;)o[n][d](t[n++])}return K(o)},t.prototype={all:function(n){for(var t=r,u=0;u<this._[a];)t&=n(this._[u++]);return t?r:i},any:function(n){return b(this._,n)>=0},ascending:function(){return U(this._,arguments),this},atRandom:function(){return this._[Math.floor(g()*this._[a])]},average:function(n){var t=this._[a];return t?this.sum(n)/t:0},clear:function(){this._[x](0,this._[a])},clearWhere:function(n){var t,r=this._;for(t=r[a]-1;t>=0;t--)n(r[t])&&r[x](t,1);return this},clone:function(){return K(this._[c]())},concat:function(){return K(o[c][u](this._,arguments))},contains:function(n){return this._[h](n)>-1},count:function(n){var t=0,r=this._,i=r[a],u=i;if(!T(n))for(u=0;i>t;)r[t++]===n&&u++;return u},descending:function(){return U(this._,arguments),this[p]()},difference:function(n,t){var r=this._;return n=G(n),I(r,n,t).union(I(n,r,t))},distinct:function(n){var t,r,i,u,e,o=M(n),s=[],f=this._;for(i=0,e=f[a];e>i;i++)if(t=f[i],-1==s[h](t))for(u=0;e>u;u++)if(r=f[u],o&&n(t,r)||!o&&t===r){s[d](t);break}return K(s)},doUntil:function(n,t){J(this._,n,t,1)},doWhile:function(n,t){J(this._,n,t,0)},each:function(n){var r=0,i=this._,u=i[a];if(u!==+u||t.associative(this._))k(i,n);else for(;u>r;)n(i[r],r++)},element:function(n,t){return this._[n]=arguments[a]>1?t:this._[n]},equalTo:function(n,t){n=G(n);var u,e,o=this._,s=o[a],f=s-1,c=M(t);if(s!=n[a])return i;for(;f>=0;)if(u=o[f],e=n[f--],c?!t(u,e):u!==e)return i;return r},findIndex:function(n,t,r){return M(n)?b(this._,n,1,t,r):-1},findLastIndex:function(n,t,r){return M(n)?b(this._,n,-1,t,r):-1},first:function(n){var t=b(this._,n);return t>=0?this._[t]:void L(C)},flatten:function(){for(var n,r=0,i=K([]),o=this._;r<o[a];)n=o[r++],t.prototype[d][u](i,e[_](n)?n:[n]);return i},groupBy:function(n,t,r){var i,u=S(this._,n,t,r),e=this._;e[x](0,e[a]);for(i in u)e[i]=u[i];return this},indexOf:function(){return o[h][u](this._,arguments)},innerJoin:function(n,t,r){var i,u,o,s=[],c=this._,h=0;if(n=G(n),!e[_](n))return this[f]();for(M(r)||(r=B);h<c[a];)for(i=c[h++],o=0;o<n[a];)u=n[o++],t(i,u)&&s[d](r(i,u));return K(s)},insert:function(n,t){this._[x](n,0,t)},insertRange:function(n,t){o[x][u](this._,[n,0][c](arguments[a]<3?G(t):o.slice.call(arguments,1)))},interquartileRange:function(n){return this.upperquartile(n)-this.lowerquartile(n)},intersect:function(n,t){for(var r,i,u,e=M(t),o=[],s=0,f=G(this.distinct(t)),c=G(K(n).distinct(t));s<f[a];)for(r=f[s++],u=0;u<c[a];)if(i=c[u++],e&&t(r,i)||!e&&r===i){o[d](r);break}return K(o)},join:function(){return o.join[u](this._,arguments)},keys:function(){var n,t=[],r=this._;for(n in r)M(r[n])||t[d](n);return t},last:function(n){var t=this._,r=b(t,n,-1);return r>=0?t[r]:void L(C)},lastIndexOf:function(){return o[v][u](this._,arguments)},lowerquartile:function(n){return W(this,1,n)},map:function(n){var t,r=void 0;return M(n)&&(t=[],this.each(function(r){t[d](n(r))}),r=K(t)),r},max:function(n){return E(0,this._,n)},median:function(){var n,t,r;return r=this[f](),U(G(r),arguments),n=r.middle(),t=r.middle(1),t>n?(n+t)/2:n},middle:function(n){return this._[q(this._[a]-1,n)]},min:function(n){return E(1,this._,n)},mode:function(n){var t,r,i,u,e=0,o=[],s=0;for(i=G((M(n)?this.map(n):this[f]()).ascending());s<i[a];)u=i[s++],r=u===t?r+1:0,r===e?o[d](u):r>e&&(o=[u],e++),t=u;return o},multiply:function(n){return this._[a]>0?F(this._,P,n):0},orderBy:function(){U(this._,arguments)},outerJoin:function(t,r,i){var u,o,s,c,h=[],v=0,l=M(r);if(t=G(t),!e[_](t))return this[f]();for(M(i)||(i=B);v<this._[a];){for(u=this._[v++],s=1,c=0;c<t[a];)o=t[c++],(l&&r(u,o)||!l&&u===o)&&(s=0,h[d](i(u,o)));s&&h[d](i(u,n))}return K(h)},pack:function(){var t,r,i=this._;for(r=i[a]-1;r>=0;r--)t=i[r],(T(t)||t===n)&&i[x](r,1);return this},partition:function(n,t,r){return K(S(this._,n,t,r))},pop:function(){return o[m][u](this._,arguments)},push:function(){return o[d][u](this._,arguments)},pushRepeatedly:function(n,t){for(var r=0;t>r;r++)this[d](n);return this},range:function(n,t){return K(this._[y](n,t))},raw:function(){return this._},removeAt:function(n){this._[x](n,1)},removeRange:function(n,t){this._[x](n,t)},reverse:function(){return K(o[p][u](this._,arguments))},shift:function(){return o.shift[u](this._,arguments)},shuffle:function(){return this._[A](Y),this},single:function(n){var t=G(this);return M(n)&&(t=G(K(this).where(n))),1!=t[a]&&L(D),t[0]},skip:function(n){return K(this._[y](n))},sort:function(){return o[A][u](this._,arguments),this},sum:function(n){return this._[a]>0?F(this._,function(n,t){return n+t},n):0},take:function(n){return K(this._[y](0,n))},toString:function(){return o.toString[u](this._)},union:function(n){var t=this[f]();return o[d][u](G(t),G(n)),t},unshift:function(){return o.unshift[u](this._,arguments)},upperquartile:function(n){return W(this,3,n)},valueOf:function(){return o.valueOf[u](this._,arguments)},where:function(n){for(var t,r=[],i=0,u=this._;i<u[a];)t=u[i++],n(t)&&r[d](t);return K(r)}},t}()}}();"object"==typeof exports&&exports&&(exports.Dinqyjs=Dinqyjs);
