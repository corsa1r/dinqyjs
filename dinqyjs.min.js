var Dinqyjs=function(){"use strict";var t=null,n=void 0,r=!0,i=!1,u=Array,e=u.prototype,o="length",s="apply",f="push",c="slice",a="splice",h="indexOf",_=function(t){return function(n){return t===n}},l=function(t,n){var r=t/2;return parseInt(n>0?Math.ceil(r):r)},v={ARRAY_PREALLOCATION:64e3},m=function(t,n){return t>n?1:n>t?-1:0},d=function(t,n,r){var i,u,e,s,c=O(r),a=0,h=[];for(t=J(t).distinct(r).raw(),n=T(n),s=n[o];a<t[o];){for(u=t[a++],i=0;s>i&&(e=n[i],!(c&&r(u,e)||!c&&u===e));)i++;i===s&&h[f](u)}return J(h)},p=function(t,n){var r,i;for(i in t)r=t[i],O(r)||n(r,i)},g=function(t){throw new Error(t)},y="Array contains no matching elements",w="Array does not contain exactly one matching element",A=function(t,n,r,i,u){var e,s=t[o];if(r=r||1,!O(n))return s>0?r>0?0:s-1:-1;for(I(i)&&(i=r>0?0:s-1),(I(u)||u>s)&&(u=s);u>0;){if(e=t[i],n(e))return i;i+=r,u--}return-1},x=function(n,r,i){var u,e,s,f,c,a=O(i);for(s=0,f=r[o],c=f>0?r[0]:t;f>s;s++)u=r[s],e=a?i(u):u,(n?c>=e:e>=c)&&(c=u);return c},O=function(t){return"function"==typeof t},I=function(t){return t===n},R=function(t,n){return{inner:t,outer:n}},q=function(t,n,r,i){for(var u=0;u<t[o]&&r(t[u],u)!=i;u++)n(t[u],u)},j=function(t,n){return.25*(t*n+t)},k=function(t,n){return t*n},L=function(t,n,r,i){for(var u,e,s=0,c=[],a=O(r),h=O(i);s<t[o];)u=t[s++],e=n(u),a&&(u=r(u)),(c[e]=e in c?c[e]:[])[f](u);return h&&B(c,i),c},M=function(t,r,i){var u,e,o,s,f,c,a,h,_=O(i),l=t.count();return 1>l?n:(u=t.raw().concat(),D(u,i),e=j(r,l),o=parseInt(e),s=parseInt(Math.ceil(e)),a=u[o-1],h=u[s-1],f=_?i(a):a,c=_?i(h):h,s>o?f:(f+c)/2)},C=function(){return Math.random()-.5},D=function(t,n){return I(n)||n[o]<1?void t.sort(m):(n=O(n)?[n]:e.slice.call(n),void t.sort(b(n)))},b=function(t){return function(n,r){for(var i,u,e,s,f=0,c=0,a=t[o];a>f&&0===c;)s=t[f++],O(s)&&(e=0,a>f&&"string"==typeof t[f]&&0===t[f][h]("des")&&(e=1),i=s(n),u=s(r),u>i?c=e?1:-1:i>u&&(c=e?-1:1));return c}},E=function(n,r,i){for(var u,e,s=t,f=n[o]-1,c=O(i);f>=0;)u=n[f--],e=c?i(u):u,s=s===t?e:r(s,e);return s},T=function(t){return t._||t},B=function(t,n){var r,i;for(r in t)i=t[r],t[r]=n(i,r);return t},J=function(t){return t._?t:new Dinqyjs.Collection(t)};return e[h]||(e[h]=function(t,n){return A(this,_(t),1,n)}),e.lastIndexOf||(e.lastIndexOf=function(t,n){return A(this,_(t),-1,n)}),e.map||(e.map=function(t){var r=this[o],i=new u(r>v.ARRAY_PREALLOCATION?0:r),e=0;if(!O(t))return n;for(;r>e;)i[e]=t(this[e++]);return i}),u.isArray||(u.isArray=function(t){return t.constructor===u}),{Collection:function(){function n(t){this._=t||[]}return n.associative=function(t){for(var n in t)if(!O(t[n]))return 0===+t[o];return i},n.configure=function(t,n){return v[t]=arguments[o]<2?v[t]:n},n.transpose=function(){var t,n,r,i,u,e=arguments,s=[];for(i=0,u=arguments[o];u>i;i++){for(n=T(e[i]),r=n[o];s[o]<r;)s[f]([]);for(t=0;r>t;)s[t][f](n[t++])}return J(s)},n.prototype={all:function(t){for(var n=r,u=0;u<this._[o];)n&=t(this._[u++]);return n?r:i},any:function(t){return A(this._,t)>=0},ascending:function(){return D(this._,arguments),this},atRandom:function(){return this._[Math.floor(Math.random()*this._[o])]},average:function(t){var n=this._[o];return n?this.sum(t)/n:0},clear:function(){this._[a](0,this._[o])},clearWhere:function(t){for(var n=this._[o]-1;n>=0;)t(this._[n])&&this._[a](n,1),n--;return this},clone:function(){return J(this._.concat())},concat:function(){return J(e.concat[s](this._,arguments))},contains:function(t){return this._[h](t)>-1},count:function(t){var n=0,r=this._[o],i=0;if(I(t))return r;for(;r>n;)this._[n++]===t&&i++;return i},descending:function(){return D(this._,arguments),this.reverse()},difference:function(t,n){var r=this._;return t=T(t),d(r,t,n).union(d(t,r,n))},distinct:function(t){var n,r,i,u,e,s=O(t),c=[];for(i=0,e=this._[o];e>i;i++)if(n=this._[i],-1==c[h](n))for(u=0;e>u;u++)if(r=this._[u],s&&t(n,r)||!s&&n===r){c[f](n);break}return J(c)},doUntil:function(t,n){q(this._,t,n,1)},doWhile:function(t,n){q(this._,t,n,0)},each:function(t){var r=0,i=this._[o];if(i!==+i||n.associative(this._))p(this._,t);else for(;i>r;)t(this._[r],r++)},element:function(t,n){return this._[t]=arguments[o]>1?n:this._[t]},equalTo:function(t,n){t=T(t);var u,e,s=this._[o],f=s-1,c=O(n);if(s!=t[o])return i;for(;f>=0;)if(u=this._[f],e=t[f--],c?!n(u,e):u!==e)return i;return r},findIndex:function(t,n,r){return O(t)?A(this._,t,1,n,r):-1},findLastIndex:function(t,n,r){return O(t)?A(this._,t,-1,n,r):-1},first:function(t){var n=A(this._,t);return n>=0?this._[n]:void g(y)},flatten:function(){for(var t,r=0,i=J([]);r<this._[o];)t=this._[r++],n.prototype.push[s](i,u.isArray(t)?t:[t]);return i},groupBy:function(t,n,r){var i,u=L(this._,t,n,r);this._[a](0,this._[o]);for(i in u)this._[i]=u[i];return this},indexOf:function(){return e[h][s](this._,arguments)},innerJoin:function(t,n,r){if(t=T(t),!u.isArray(t))return this.clone();O(r)||(r=R);for(var i,e,s,c=[],a=0;a<this._[o];)for(i=this._[a++],s=0;s<t[o];)e=t[s++],n(i,e)&&c[f](r(i,e));return J(c)},insert:function(t,n){this._[a](t,0,n)},insertRange:function(t,n){e[a][s](this._,[t,0].concat(arguments[o]<3?T(n):e.slice.call(arguments,1)))},interquartileRange:function(t){return this.upperquartile(t)-this.lowerquartile(t)},intersect:function(t,n){for(var r,i,u,e=O(n),s=[],c=0,a=this.distinct(n).raw(),h=J(t).distinct(n).raw();c<a[o];)for(r=a[c++],u=0;u<h[o];)if(i=h[u++],e&&n(r,i)||!e&&r===i){s[f](r);break}return J(s)},join:function(){return e.join[s](this._,arguments)},keys:function(){var t,n=[];for(t in this._)O(this._[t])||n[f](t);return n},last:function(t){var n=A(this._,t,-1);return n>=0?this._[n]:void g(y)},lastIndexOf:function(){return e.lastIndexOf[s](this._,arguments)},lowerquartile:function(t){return M(this,1,t)},map:function(t){if(O(t)){var n=[];return this.each(function(r){n[f](t(r))}),J(n)}return void 0},max:function(t){return x(0,this._,t)},median:function(){var t,n,r;return r=this.clone(),D(r.raw(),arguments),t=r.middle(),n=r.middle(1),n>t?(t+n)/2:t},middle:function(t){return this._[l(this._[o]-1,t)]},min:function(t){return x(1,this._,t)},mode:function(t){var n,r,i,u,e=0,s=[],c=0;for(i=(O(t)?this.map(t):this.clone()).ascending().raw();c<i[o];)u=i[c++],r=u===n?r+1:0,r===e?s[f](u):r>e&&(s=[u],e++),n=u;return s},multiply:function(t){return this._[o]>0?E(this._,k,t):0},orderBy:function(){D(this._,arguments)},outerJoin:function(n,r,i){var e,s,c,a,h=[],_=0,l=O(r);if(n=T(n),!u.isArray(n))return this.clone();for(O(i)||(i=R);_<this._[o];){for(e=this._[_++],c=1,a=0;a<n[o];)s=n[a++],(l&&r(e,s)||!l&&e===s)&&(c=0,h[f](i(e,s)));c&&h[f](i(e,t))}return J(h)},pack:function(){for(var n,r=this._[o]-1;r>=0;)n=this._[r],(I(n)||n===t)&&this._[a](r,1),r--;return this},partition:function(t,n,r){return J(L(this._,t,n,r))},pop:function(){return e.pop[s](this._,arguments)},push:function(){return e[f][s](this._,arguments)},pushRepeatedly:function(t,n){for(var r=0;n>r;r++)this[f](t);return this},range:function(t,n){return J(this._[c](t,n))},raw:function(){return this._},removeAt:function(t){this._[a](t,1)},removeRange:function(t,n){this._[a](t,n)},reverse:function(){return J(e.reverse[s](this._,arguments))},shift:function(){return e.shift[s](this._,arguments)},shuffle:function(){return this._.sort(C),this},single:function(t){var n=T(this);return O(t)&&(n=J(this).where(t).raw()),1!=n[o]&&g(w),n[0]},skip:function(t){return J(this._[c](t))},sort:function(){return e.sort[s](this._,arguments),this},sum:function(t){return this._[o]>0?E(this._,function(t,n){return t+n},t):0},take:function(t){return J(this._[c](0,t))},toString:function(){return e.toString[s](this._)},union:function(t){var n=this.clone();return e.push[s](n.raw(),T(t)),n},unshift:function(){return e.unshift[s](this._,arguments)},upperquartile:function(t){return M(this,3,t)},valueOf:function(){return e.valueOf[s](this._,arguments)},where:function(t){for(var n,r=[],i=0;i<this._[o];)n=this._[i++],t(n)&&r[f](n);return J(r)}},n}()}}();"object"==typeof exports&&exports&&(exports.Dinqyjs=Dinqyjs);